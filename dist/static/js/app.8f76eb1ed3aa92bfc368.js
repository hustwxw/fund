webpackJsonp([1],{LtzE:function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("7+uW"),o={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var r=e("VU/8")({name:"App"},o,!1,function(t){e("LtzE")},null,null).exports,s=e("/ocq"),i=e("//Fk"),l=e.n(i),c=e("hU7x"),u=e.n(c),f={name:"nf",data:function(){return{funds:[],loading:!1}},mounted:function(){this.refresh(),setInterval(this.refresh,6e4)},methods:{refresh:function(){var t=this;this.funds=[],this.loading=!0,this.getSHApi().then(function(n){t.funds.push(n),t.loading=!1,t.getApi().then(function(n){t.funds=t.funds.concat(n),t.loading=!1}).catch(function(n){t.loading=!1,console.log(n)})}).catch(function(n){t.loading=!1,console.log(n)})},getSHApi:function(){return new l.a(function(t,n){u()("http://api.k780.com/?app=finance.globalindex&inxids=1010&appkey=47313&sign=b3caabdab1bb5bbfefbc04c7e4e02490\n\n&format=json&jsoncallback=shdata",{name:"shdata"},function(e,a){e?n(new Error(e)):t([a.result.lists[1010]].map(function(t){return{dwjz:t.yesy_price,jzrq:t.uptime.split(" ")[0],gsz:t.last_price,gztime:t.uptime,gszzl:parseFloat(t.rise_fall_per),name:t.inxnm,fundcode:t.inxno}})[0])})})},getApi:function(){var t=[],n=["202101","160119"];return new l.a(function(e,a){!function o(r){var s;r?(s=r,new l.a(function(t,n){u()("https://fundgz.1234567.com.cn/js/"+s+".js",{param:"rt="+(new Date).valueOf(),name:"jsonpgz"},function(e,a){e?n(new Error(e)):t(a)})})).then(function(e){t.push(e),o(n.pop())}).catch(function(t){a(t)}):e(t)}(n.pop())})}}},p={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("el-row",[e("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{span:24}},[e("h1",[t._v("南方基金实时估算净值(一分钟刷新一次)")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.refresh}},[e("i",{staticClass:"el-icon-refresh"}),t._v("刷新")])],1),t._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.funds,stripe:"",border:""}},[e("el-table-column",{attrs:{prop:"fundcode",label:"基金代码"}}),t._v(" "),e("el-table-column",{attrs:{prop:"name",label:"基金名称"}}),t._v(" "),e("el-table-column",{attrs:{label:"昨日净值"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",[t._v(t._s(n.row.dwjz)+"【"+t._s(n.row.jzrq)+"】")])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"实时净值（估算）"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",[t._v(t._s(n.row.gsz)+"【"+t._s(n.row.gztime)+"】")])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"涨跌幅"},scopedSlots:t._u([{key:"default",fn:function(n){return[n.row.gszzl>0?e("div",{staticStyle:{color:"red"}},[t._v(t._s(n.row.gszzl)+"%"),e("i",{staticClass:"el-icon-top"})]):t._e(),t._v(" "),0===n.row.gszzl?e("div",{staticStyle:{color:"black"}},[t._v(t._s(n.row.gszzl)+"%")]):t._e(),t._v(" "),n.row.gszzl<0?e("div",{staticStyle:{color:"green"}},[t._v(t._s(n.row.gszzl)+"%"),e("i",{staticClass:"el-icon-bottom"})]):t._e()]}}])})],1)],1)},staticRenderFns:[]};var d=e("VU/8")(f,p,!1,function(t){e("zZUI")},"data-v-259281a9",null).exports;a.default.use(s.a);var v=new s.a({routes:[{path:"/",name:"nf",component:d}]}),_=e("zL8q"),m=e.n(_);e("tvR6");a.default.use(m.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:v,components:{App:r},template:"<App/>"})},tvR6:function(t,n){},zZUI:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.8f76eb1ed3aa92bfc368.js.map